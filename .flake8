# -*- coding: utf-8 -*-
# Flake8 Configuration for Project ArkhÄ“

[flake8]
max-line-length = 100
max-complexity = 12
select = 
    # pycodestyle errors and warnings
    E,W,
    # pyflakes
    F,
    # mccabe complexity
    C90,
    # pep8-naming
    N,
    # flake8-builtins
    A,
    # flake8-comprehensions  
    C4,
    # flake8-debugger
    T10,
    # flake8-docstrings
    D,
    # flake8-import-order
    I,
    # flake8-quotes
    Q

ignore =
    # Ignore some docstring errors for research code
    D100,  # Missing docstring in public module
    D104,  # Missing docstring in public package
    D107,  # Missing docstring in __init__
    D212,  # Multi-line docstring summary should start at the first line
    D213,  # Multi-line docstring summary should start at the second line
    D413,  # Missing blank line after last section
    D416,  # Section name should end with a colon
    # Import formatting (handled by isort)
    I001,  # isort found an import in the wrong position
    I003,  # isort expected 1 blank line in imports, found 0
    I004,  # isort found an import in the wrong position
    I005,  # isort found an import in the wrong position
    # Quotes (we use double quotes)
    Q000,  # Remove bad quotes
    # Allow line breaks before binary operators (W503 vs W504)
    W503,
    # Allow some common research code patterns
    E203,  # whitespace before ':' (conflicts with black)
    E501,  # line too long (handled by black)

exclude =
    .git,
    __pycache__,
    .venv,
    .env,
    dist,
    build,
    *.egg-info,
    .mypy_cache,
    .pytest_cache,
    .coverage,
    htmlcov,
    experiments/archive/deprecated/

per-file-ignores =
    # Allow star imports in __init__.py files
    __init__.py:F401,F403
    # Allow unused imports in test files
    test_*.py:F401,F811
    # Allow print statements and longer lines in experiment scripts  
    experiments/prototypes/*.py:T201,E501
    experiments/benchmarks/*.py:T201,E501
    experiments/analysis/*.py:T201,E501
    # Allow missing docstrings in experiment files
    experiments/*.py:D100,D101,D102,D103,D105
    # Config files
    config/*.py:D100,D101,D102,D103

# Docstring convention
docstring-convention = google

# Import order style
import-order-style = google
application-import-names = src,experiments